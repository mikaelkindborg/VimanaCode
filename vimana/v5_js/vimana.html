<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, shrink-to-fit=no" />
  <meta name="copyright" content="(c) 2021 Mikael Kindborg. All Rights Reserved" />
  <title>VimanaCode</title>
  <style>
    @import "vimana.css";
  </style>
</head>

<body>

<script>
function VimanaEval(code)
{
  console.log(code)
}
</script>

<script src="hello.vimana"></script>

  <script>
    console.log("Hello")
    
  </script>

  <h1>WELCOME TO THE WONDERFUL WORLD OF VIMANA</h1>

  <div class="vimana-frame vimana-frame-code">
<textarea style="height:200px;">VIMANA-USE-UPPERCASE
(This is a comment. Comments are written inside a list that ends with doc. 
Write code in this panel and press EVAL to run.) DOC

HELLO-WORLD PRINT 

(N FACT) (N 0 EQ (1) (N 1 - FACT N *) IFELSE) DEF
(L N REPEAT) (0 N ISBIGGER (L EVAL L N 1 - REPEAT) IFTRUE) DEF
(20 FACT PRINT) 3 REPEAT

(
22 (FUBAR) =>
FUBAR PRINT 

(FOO2) (
  1 (N) =>
  [N PRINT N 1 + (N) =>] (BAR) =>
  BAR
) DEF

(FOO) (
  1 (N) SET
  [N PRINT N 1 + (N) SET]
) DEF
FOO (BLOCK) =>
BLOCK EVAL
BLOCK EVAL
      
(FOO) (
  1 (N) =>
  [N PRINT N 1 + (N) =>] (BAR) =>
  BAR
) DEF
FOO EVAL

) DROP

(


(L N REPEAT) (
  0 N ISBIGGER
    (L EVAL L N 1 - REPEAT)  
  IFTRUE
) DEF

(N FACT) (N 0 EQ (1) (N 1 - FACT N *) IFELSE) DEF
(
(6 FACT PRINT) 3 REPEAT
(HELLO2 PRINT) BIND 3 REPEAT
)
DROP

(FOO) (
  (MYF) (N) =>
  N PRINT
    [N PRINT] 3 REPEAT
) DEF

FOO

) DROP



(

(N FACT) (N 0 EQ (1) (N 1 - FACT N *) IFELSE) DEF
3 FACT PRINT

) DROP

(

(WHILE) (
  (COND BODY) =>
  COND EVAL (
    BODY EVAL
    COND BODY WHILE) IFTRUE
) DEF

(FOO) (
  10 (N) =>
  (N 0 ISSMALLER) BIND
    (N PRINT
     N 1 - (N) =>) BIND
  WHILE
) DEF

(FOO) (
  20 (N) SET
  [N 0 ISSMALLER] [
    N PRINT
    N 1 - (N) SET
  ]
  WHILE
) DEF

(Foo) (
  20 (n) Set
  [n 0 IsSmaller] [
    n Print
    n 1 - (n) Set
  ]
  While
) Def

(foo) (
  20 (n) set
  [n 0 isSmaller] [
    n print
    n 1 - (n) set
  ]
  while
) def

FOO

) DROP

(

SPRITE :X
  SPRITE :X GET 10 +
SET

SPRITE 'X
  SPRITE 'X GET 10 +
SET

SPRITE (X)
  SPRITE (X) GETP 10 +
SETP

sprite(x)
  sprite(x)getp 10 +
setp

sprite 10 20 (moveto) do
sprite(show)do
sprite(hide)do

sprite 10 20 :moveto do


sprite : x
  sprite : x getp 10 +
setp

SPRITE X
  SPRITE X GET 10 +
SET

OBJ NAME LISA SET
OBJ NAME GET:

(HELLO PRINT) FUNIFY (FOO) FIRST SETGLOBAL FOO
(HELLO PRINT) FUNIFY (FOO) SETGLOBAL FOO
(FOO) (HELLO2 PRINT) DEF FOO
(N DOUBLE) (N N +) DEF
21 DOUBLE PRINT
(FACT) ((N) => N 0 EQ (1) (N 1 - FACT N *) IFELSE) DEF
6 FACT PRINT
)
DROP

</textarea>
  </div>

  <a class="vimana-button" onclick="VimanaDoEval()" href="javascript:void(0)">EVAL</a>
  <a class="vimana-button" onclick="VimanaDoBenchmark()" href="javascript:void(0)">BENCHMARK</a>
  <a class="vimana-button" onclick="VimanaDoNativeBenchmark()" href="javascript:void(0)">NATIVE BENCHMARK</a>

  <div class="vimana-frame vimana-frame-output">
    <textarea style="height:200px;"></textarea>
  </div>

  <script src="interp.js"></script>
  <script src="primfuns.js"></script>
  <script src="ui.js"></script>
  <script src="vimana.js"></script>
  <!-- TODO: Load Vimana code for workbench, rename this file to workbench.js -->

</body>

</html>